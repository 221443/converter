(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3237:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var a=r(5155),n=r(2115);async function l(e){let t=URL.createObjectURL(e),r=new Image;return new Promise((a,n)=>{r.onload=()=>{a({file:e,image:r,previewUrl:t})},r.onerror=()=>{n(Error("Failed to load image: ".concat(e.name)))},r.src=t})}async function s(e){if(!window.pdfjsLib)throw Error("PDF.js library not loaded");let t=window.pdfjsLib;t.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";let r=await e.arrayBuffer(),a=await t.getDocument({data:r}).promise,n=a.numPages,l=[];for(let t=1;t<=n;t++){let r=await a.getPage(t),n=r.getViewport({scale:2}),s=document.createElement("canvas"),i=s.getContext("2d");if(!i)continue;s.width=n.width,s.height=n.height,await r.render({canvasContext:i,viewport:n}).promise;let o=await new Promise(e=>{s.toBlob(t=>e(t),"image/png")}),d=new File([o],"".concat(e.name,"_page_").concat(t,".png"),{type:"image/png"}),c=URL.createObjectURL(o),g=new Image;await new Promise(e=>{g.onload=()=>e(),g.src=c}),l.push({file:d,image:g,previewUrl:c})}return l}var i=r(5172),o=r(7496),d=r.n(o);function c(e,t,r,a){let n="image/svg+xml"===e.type?10:1,l=t.naturalWidth||t.width,s=t.naturalHeight||t.height;r.width=l*n,r.height=s*n,a.fillStyle="#ffffff",a.fillRect(0,0,r.width,r.height),a.drawImage(t,0,0,r.width,r.height)}async function g(e,t,r){let a=new i.uE("p","pt","a4"),n=a.internal.pageSize.getWidth(),l=a.internal.pageSize.getHeight(),s=!0;for(let{file:i,image:o}of e){let e,d;s||a.addPage(),s=!1,c(i,o,t,r);let g=t.toDataURL("image/jpeg",.95),u=a.getImageProperties(g),m=n/l,h=u.width/u.height;h>m?d=(e=n-20)/h:e=(d=l-20)*h;let f=(n-e)/2,p=(l-d)/2;a.addImage(g,"JPEG",f,p,e,d)}return a.output("blob")}async function u(e,t,r,a,n){let l=new(d()),s="jpg"===a?"image/jpeg":"image/".concat(a),i=e.map(e=>{let{file:i,image:o}=e;return new Promise((e,d)=>{try{c(i,o,t,r),t.toBlob(t=>{if(!t)return void d(Error("Failed to create blob"));let r=i.name,n=r.lastIndexOf("."),s=n>0?r.substring(0,n):r,o="".concat(s,".").concat(a);l.file(o,t),e()},s,n)}catch(e){d(e)}})});return await Promise.all(i),await l.generateAsync({type:"blob"})}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB"][r]}function h(e,t){t&&(t.textContent=e,t.classList.remove("hidden"))}function f(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(!1),[o,d]=(0,n.useState)(""),[c,f]=(0,n.useState)("jpeg"),[p,x]=(0,n.useState)(.9),[b,w]=(0,n.useState)(""),[j,y]=(0,n.useState)(""),[v,k]=(0,n.useState)(""),[N,P]=(0,n.useState)(!1),C=(0,n.useRef)(null),F=(0,n.useRef)(null),S=async e=>{var r;let a=e.target.files;if(!a||0===a.length)return;i(!0),t([]),d(""),P(!1),(r=F.current)&&r.classList.add("hidden");let n=Array.from(a).map(e=>e.type.startsWith("image/")?l(e):"application/pdf"===e.type?s(e):(console.warn("Skipping unsupported file type: ".concat(e.name)),Promise.resolve(null)));try{let e=(await Promise.all(n)).flat().filter(e=>null!==e);0===e.length?(d("No valid image or PDF files were selected."),h("No valid image or PDF files were selected.",F.current)):t(e)}catch(e){console.error("Error loading files:",e),d("There was an error loading one or more files."),h("There was an error loading one or more files.",F.current)}finally{i(!1)}},L=async()=>{if(0===e.length){d("No files selected to convert."),h("No files selected to convert.",F.current);return}if(!C.current)return;let t=C.current.getContext("2d");if(t){i(!0);try{let r,a;"pdf"===c?(r=await g(e,C.current,t),a="converted-files.pdf"):(r=await u(e,C.current,t,c,p),a="converted-files.zip");let n=URL.createObjectURL(r);w(n),y(a),k(m(r.size)),P(!0)}catch(e){console.error("Conversion failed:",e),d("An unexpected error occurred during conversion."),h("An unexpected error occurred during conversion.",F.current)}finally{i(!1)}}},E=e.reduce((e,t)=>{let{file:r}=t;return e+r.size},0),B="jpeg"===c||"jpg"===c||"webp"===c;return(0,a.jsxs)("div",{className:"w-full max-w-2xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 space-y-6 mx-auto",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-indigo-600 dark:text-indigo-400",children:"Image & PDF Converter"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Convert files right in your browser. Fast, private, and secure."})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"image-input",className:"file-label cursor-pointer w-full flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-10 text-center hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,a.jsxs)("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-4-4V6a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6M15 9H9"})]}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Images (PNG, JPG, SVG, etc.) and PDF files"})]}),(0,a.jsx)("input",{type:"file",id:"image-input",accept:"image/*,application/pdf,image/svg+xml",className:"hidden",multiple:!0,onChange:S})]}),(0,a.jsx)("div",{ref:F,className:"hidden text-center text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-lg",children:o}),e.length>0&&(0,a.jsxs)("div",{className:"visible-section space-y-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4 max-h-48 overflow-y-auto bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:e.map((e,t)=>{let{file:r,previewUrl:n}=e;return(0,a.jsx)("img",{src:n,alt:r.name,title:"".concat(r.name," (").concat(m(r.size),")"),className:"w-full h-full object-cover rounded-md shadow-sm"},t)})}),(0,a.jsxs)("div",{className:"text-sm space-y-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Files Selected:"})," ",e.length]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total Size:"})," ",m(E)]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"format-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Convert to:"}),(0,a.jsxs)("select",{id:"format-select",value:c,onChange:e=>f(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[(0,a.jsx)("option",{value:"jpeg",children:"JPEG"}),(0,a.jsx)("option",{value:"jpg",children:"JPG"}),(0,a.jsx)("option",{value:"png",children:"PNG"}),(0,a.jsx)("option",{value:"webp",children:"WEBP"}),(0,a.jsx)("option",{value:"bmp",children:"BMP"}),(0,a.jsx)("option",{value:"pdf",children:"PDF"})]})]}),B&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"quality-slider",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Quality: ",p.toFixed(2)]}),(0,a.jsx)("input",{id:"quality-slider",type:"range",min:"0.1",max:"1",step:"0.05",value:p,onChange:e=>x(parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]}),(0,a.jsxs)("button",{onClick:L,disabled:r,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800 transition-all duration-200 flex items-center justify-center gap-2 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M11.39 2.503a6.473 6.473 0 0 0-3.383-.984a6.48 6.48 0 0 0-4.515 1.77l.005-.559a.75.75 0 1 0-1.5-.013l-.022 2.5a.75.75 0 0 0 .743.756l2.497.022a.75.75 0 1 0 .013-1.5l-.817-.007a4.983 4.983 0 0 1 3.583-1.469a4.973 4.973 0 0 1 2.602.756a.75.75 0 0 0 .795-1.272Zm-9.097 8.716a6.473 6.473 0 0 1-.84-3.422a.75.75 0 1 1 1.5.053a4.955 4.955 0 0 0 .646 2.63a4.983 4.983 0 0 0 3.064 2.37l-.403-.712a.75.75 0 0 1 1.306-.738l1.229 2.173a.75.75 0 0 1-.283 1.022l-2.176 1.23a.75.75 0 1 1-.739-1.305l.487-.275a6.48 6.48 0 0 1-3.79-3.026Zm11.258.099a6.473 6.473 0 0 1-2.544 2.438a.75.75 0 0 1-.704-1.325a4.974 4.974 0 0 0 1.955-1.875a4.983 4.983 0 0 0 .52-3.838l-.415.705a.75.75 0 1 1-1.292-.762l1.267-2.15a.75.75 0 0 1 1.027-.266l2.154 1.268a.75.75 0 1 1-.761 1.293l-.483-.284a6.48 6.48 0 0 1-.724 4.796"})}),(0,a.jsx)("span",{children:r?"Converting...":"Convert Files"})]})]}),N&&(0,a.jsxs)("div",{className:"visible-section text-center p-4 bg-green-50 dark:bg-green-900/50 border border-green-200 dark:border-green-700 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-200",children:"Conversion Complete!"}),(0,a.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:["Final file size: ",(0,a.jsx)("span",{className:"font-bold",children:v})]}),(0,a.jsxs)("a",{href:b,download:j,className:"mt-4 inline-block bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 dark:focus:ring-offset-gray-800 transition-colors",children:["Download ",j.endsWith(".pdf")?"PDF":"ZIP"]})]}),(0,a.jsx)("canvas",{ref:C,className:"hidden"})]})}},3375:(e,t,r)=>{Promise.resolve().then(r.bind(r,3237))}},e=>{e.O(0,[930,826,441,255,358],()=>e(e.s=3375)),_N_E=e.O()}]);